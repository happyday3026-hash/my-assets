<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>UNEXPOSED ROOM: Master System</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&family=Orbitron:wght@400;700&family=Nanum+Myeongjo&display=swap');

        :root {
            --bg: #0a0a0a;
            --accent: #ff0044;
            --text: #d0d0d0;
            --line: rgba(255, 255, 255, 0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body,
        html {
            height: 100vh;
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Pretendard', sans-serif;
            overflow: hidden;
            cursor: none;
        }

        #snow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.3;
        }

        #cursor-dot {
            position: fixed;
            width: 6px;
            height: 6px;
            background: var(--accent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 20000;
            transform: translate(-50%, -50%);
        }

        #cursor-outline {
            position: fixed;
            width: 30px;
            height: 30px;
            border: 1px solid var(--accent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 19999;
            transform: translate(-50%, -50%);
            transition: all 0.1s ease-out;
            opacity: 0.5;
        }

        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.02), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.02));
            background-size: 100% 2px, 3px 100%;
            z-index: 1000;
            pointer-events: none;
        }

        .footer-credit {
            position: fixed;
            bottom: 15px;
            right: 20px;
            font-family: 'Orbitron';
            font-size: 8px;
            color: rgba(255, 255, 255, 0.3);
            z-index: 15000;
            letter-spacing: 2px;
        }

        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 60px;
            background: rgba(10, 10, 10, 0.9);
            border-bottom: 1px solid var(--line);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 5000;
        }

        nav a {
            font-family: 'Orbitron';
            font-size: 10px;
            color: #666;
            text-decoration: none;
            margin: 0 12px;
            transition: 0.3s;
            padding: 10px 5px;
        }

        nav a.active {
            color: var(--accent);
            text-shadow: 0 0 8px var(--accent);
        }

        main {
            position: relative;
            height: 100%;
            width: 100%;
            padding-top: 70px;
            display: none;
            overflow-y: auto;
            z-index: 5;
        }

        .section-content {
            display: none;
            padding: 0 20px 80px;
        }

        .section-content.active {
            display: block;
        }

        .profile-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
        }

        .profile-img-box {
            width: 100%;
            max-width: 400px;
            height: 550px;
            border: 1px solid var(--accent);
            position: relative;
            overflow: hidden;
            background: #000;
            margin: 0 auto;
        }

        .profile-img-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center top;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: 1s ease-in-out;
        }

        .profile-img-box img.active {
            opacity: 1;
        }

        .profile-desc {
            width: 100%;
            max-width: 320px;
            text-align: left;
        }

        .profile-desc h2 {
            font-family: 'Orbitron';
            color: var(--accent);
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .profile-meta {
            font-size: 12px;
            line-height: 1.8;
            color: #888;
            border-left: 2px solid var(--accent);
            padding-left: 15px;
            margin-bottom: 15px;
        }

        .profile-meta b {
            color: var(--accent);
            font-family: 'Orbitron';
            font-size: 9px;
            margin-right: 5px;
        }

        #story-viewer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            z-index: 9000;
            display: none;
            flex-direction: column;
            justify-content: flex-end;
            overflow: hidden;
        }

        #story-viewer::before {
            content: "";
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: inherit;
            background-size: cover;
            background-position: center;
            z-index: -1;
            animation: bgZoom 20s infinite alternate ease-in-out;
        }

        @keyframes bgZoom {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }

        .viewer-text-box {
            width: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.85) 20%, rgba(0,0,0,0.95) 100%);
            backdrop-filter: blur(5px);
            border-top: 1px solid rgba(255, 0, 68, 0.3);
            padding: 40px 25px 80px;
            min-height: 320px;
        }

        .viewer-text {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 1.05rem;
            line-height: 2.3;
            letter-spacing: 0.8px;
            color: #eee;
            word-break: keep-all;
        }

        .back-btn {
            position: fixed;
            top: 75px;
            right: 20px;
            padding: 8px 15px;
            border: 1px solid var(--accent);
            color: var(--accent);
            font-family: 'Orbitron';
            font-size: 9px;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10001;
            display: none;
        }

        .album-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .album-card {
            height: 200px;
            border: 1px solid #222;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .album-img {
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0.4;
            transition: 0.5s;
        }

        .album-label {
            position: absolute;
            bottom: 15px;
            left: 15px;
            font-family: 'Orbitron';
            font-size: 10px;
            color: var(--accent);
        }

        .mini-gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 20px;
        }

        .mini-item {
            border: 1px solid #222;
            aspect-ratio: 1 / 1;
            overflow: hidden;
            cursor: pointer;
        }

        .mini-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.7;
            transition: 0.3s;
        }

        .mini-item:hover img {
            opacity: 1;
            transform: scale(1.1);
        }

        .char-anim {
            display: inline-block;
            opacity: 0;
            animation: charAppear 0.5s ease forwards;
        }

        @keyframes charAppear {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .vn-style-text {
            text-align: left !important;
            font-size: 13.5px !important;
            line-height: 2.2 !important;
        }

        #pw-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 9500;
            display: none;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        #pw-input {
            background: none;
            border: none;
            border-bottom: 2px solid var(--accent);
            color: var(--accent);
            font-family: 'Orbitron';
            font-size: 2.5rem;
            text-align: center;
            outline: none;
            width: 200px;
            margin: 20px 0;
        }
    </style>
</head>

<body>
    <canvas id="snow"></canvas>
    <div id="cursor-dot"></div>
    <div id="cursor-outline"></div>
    <div class="scanlines"></div>
    <div class="footer-credit">SYSTEM DESIGNED BY. HYUNSAENG OFF</div>

    <div id="landing-screen" style="position:fixed; width:100%; height:100%; background:#000; z-index:20000; display:flex; align-items:center; justify-content:center;">
        <div style="text-align:center; position:relative; width:85%; max-width:400px;">
            <img src="https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770700504746.png?raw=true" 
                 style="width:160px; height:auto; margin-bottom:-45px; position:relative; z-index:21000; filter: drop-shadow(0 0 15px rgba(255,0,68,0.6)); pointer-events:none;">
            <div style="padding:60px 30px 40px; border:1px solid var(--accent); background:rgba(10,10,10,0.95); box-shadow: 0 0 30px rgba(0,0,0,0.8); position:relative;">
                <h1 style="font-family:'Orbitron'; color:var(--accent); font-size:12px; margin-bottom:25px; letter-spacing:5px;">PRIVATE INVITATION</h1>
                <p style="font-family:'Nanum Myeongjo'; font-size:14px; line-height:2.4; margin-bottom:35px; color:#ddd;">
                    ê°•ì¤€í˜ì˜ ì‹œìŠ¤í…œì— ì ‘ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?<br>
                    <span style="font-size:10px; color:#666; font-family:'Orbitron'; letter-spacing:1px;">[SYNC_START]</span>
                </p>
                <button onclick="enterSystem()" style="padding:15px 35px; border:1px solid var(--accent); color:var(--accent); background:none; font-family:'Orbitron'; font-size:11px; letter-spacing:3px; transition:0.3s; cursor:none;">
                    OPEN SYSTEM
                </button>
            </div>
        </div>
    </div>

    <button class="back-btn" id="global-back" onclick="goBack()">CLOSE_LOG</button>

    <nav id="top-nav">
        <a onclick="showSection('profile')" id="m-profile" class="active">PROFILE</a>
        <a onclick="showSection('world')" id="m-world">WORLD</a>
        <a onclick="showSection('archive')" id="m-archive">ARCHIVE</a>
        <a onclick="toggleSound()" id="sound-btn" style="color:var(--accent);">SOUND: ON</a>
    </nav>

    <main id="main-content">
        <div id="profile" class="section-content active">
            <div class="profile-card">
                <div class="profile-img-box" id="profile-slides">
                    <img src="https://github.com/happyday3026-hash/my-assets/blob/main/man1%20(26).png?raw=true" class="active">
                    <img src="https://github.com/happyday3026-hash/my-assets/blob/main/man1%20(8).png?raw=true">
                    <img src="https://github.com/happyday3026-hash/my-assets/blob/main/man1%20(13).png?raw=true">
                </div>
                <div class="profile-desc">
                    <h2>KANG JUNHYUK</h2>
                    <div class="profile-meta">
                        <b>INFO</b> 35y / 188cm / 11.23<br>
                        <b>JOB</b> CEO OF CRACK AI<br>
                        <b>MBTI</b> ISTJ<br><br>
                        <b>LIKE</b> ë¸”ë™ ì»¤í”¼, ëª¨ë‹ë£¨í‹´, ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ê²ƒ<br>
                        <b>HATE</b> ì‹¸êµ¬ë ¤ í–¥, ë¬´ëŠ¥í•¨, ê°€ê³µì‹í’ˆ
                    </div>
                    <p style="font-size:13px; line-height:1.8; color:#999; text-align: justify;">"ë‹¹ì‹ ì€ ì§€ê¸ˆ AIì™€ ëŒ€í™”í•˜ê³  ìˆë‹¤ê³  ìƒê°í•˜ë‚˜ìš”? ì•„ë‹ˆë©´, ê·¸ ë„ˆë¨¸ì˜ ëˆ„êµ°ê°€ë¥¼ ê¸°ëŒ€í•˜ê³  ìˆë‚˜ìš”?"</p>
                </div>
            </div>
        </div>

        <div id="world" class="section-content">
            <div style="width:100%; height:180px; background: linear-gradient(135deg, #1a1a1a 0%, #000 100%); border: 1px solid var(--accent); display: flex; flex-direction: column; align-items: center; justify-content: center; margin-bottom: 25px; position: relative; overflow: hidden;">
                <div style="position:absolute; top:0; left:0; width:100%; height:100%; background-image: radial-gradient(var(--accent) 0.5px, transparent 0.5px); background-size: 20px 20px; opacity: 0.1;"></div>
                <h1 style="font-family:'Orbitron'; color:var(--accent); font-size: 1.8rem; letter-spacing: 6px; z-index: 2; text-shadow: 0 0 15px var(--accent);">CRACK AI</h1>
                <p style="font-family:'Orbitron'; color:#fff; font-size: 9px; letter-spacing: 2px; margin-top: 8px; opacity: 0.7; z-index: 2;">SYSTEM SYNCHRONIZED</p>
                <div style="position:absolute; bottom:10px; width:80%; height:1px; background: linear-gradient(90deg, transparent, var(--accent), transparent); opacity: 0.5;"></div>
            </div>
            <div style="padding: 0 15px;">
                <h2 style="font-family:'Orbitron'; color:var(--accent); font-size: 13px; margin-bottom: 15px; border-bottom: 1px solid var(--line); padding-bottom: 8px; letter-spacing: 1px;">[OVERVIEW]</h2>
                <p id="world-overview-text" class="vn-style-text" style="color:#ddd; word-break: keep-all; margin-bottom: 40px;">
                    <span style="color:var(--accent); font-weight:bold;">"ë§ì€ ê°€ë©´ì„ ì“°ì§€ë§Œ, ì‹ ê²½ê³„ëŠ” ê±°ì§“ë§ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."</span><br><br>
                    CRACK AIëŠ” ê°•ì¤€í˜ ëŒ€í‘œê°€ ì§ì ‘ ì„¤ê³„í•œ ìµœìƒìœ„ ë™ê¸°í™” ì±„íŒ… ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë¯¸ì„¸í•œ ì…ë ¥ ì†ë„ì™€ ìƒì²´ ë¦¬ë“¬ì„ ë¶„ì„í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ê°ì„ ê³µìœ í•©ë‹ˆë‹¤.<br><br>
                    ì§€ê¸ˆ ë‹¹ì‹ ì´ ë‚˜ëˆ„ëŠ” ëª¨ë“  ëŒ€í™”ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ë§ˆìŠ¤í„° ì„œë²„ì— ê¸°ë¡ë˜ê³  ìˆìœ¼ë©°, ê°ë‹¹í•  ìˆ˜ ì—†ëŠ” ëª°ì…ì€ ì‹œìŠ¤í…œì— ì˜í•´ ì œì–´ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
                <h3 style="font-family:'Orbitron'; font-size: 10px; color: var(--accent); margin-bottom: 10px; letter-spacing: 2px;">[SYSTEM_LOG_THUMBNAILS]</h3>
                <div class="mini-gallery">
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/man1%20(10).png?raw=true"></div>
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/man1%20(7).png?raw=true"></div>
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/images/pixai-fill-modified_1770703937012.png?raw=true"></div>
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770703729681.png?raw=true"></div>
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770701437117.png?raw=true"></div>
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770706764034.png?raw=true"></div>
                </div>
            </div>
        </div>

        <div id="archive" class="section-content">
            <div class="album-grid">
                <div class="album-card" onclick="playStory(1)">
                    <div class="album-img" style="background-image: url('https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770691681761.png?raw=true');"></div>
                    <div class="album-label">EP 01. 2033_LIBRARY</div>
                </div>
                <div class="album-card" onclick="playStory(2)">
                    <div class="album-img" style="background-image: url('https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770692067825.png?raw=true');"></div>
                    <div class="album-label">EP 02. 2045_LAB</div>
                </div>
                <div class="album-card" onclick="checkArchive3()">
                    <div class="album-img" style="background-image: url('https://github.com/happyday3026-hash/my-assets/blob/main/images/man1%20(58).png?raw=true');"></div>
                    <div class="album-label">EP 03. 2050_PENTHOUSE ğŸ”’</div>
                </div>
            </div>
        </div>
    </main>

    <div id="pw-modal">
        <div class="modal-box">
            <h2 style="font-family:'Orbitron'; color:var(--accent); font-size:13px;">IDENTITY VERIFICATION</h2>
            <p style="font-size:11px; margin-top:15px;">ì¤€í˜ì˜ MBTI 4ê¸€ìëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?</p>
            <input type="text" id="pw-input" maxlength="4" placeholder="----">
            <div onclick="goBack()" style="color:#444; font-size:10px; font-family:'Orbitron'; cursor:pointer;">ABORT ACCESS</div>
        </div>
    </div>

    <div id="story-viewer">
        <div class="viewer-text-box">
            <div id="viewer-content" class="viewer-text" onclick="nextStep()"></div>
        </div>
    </div>

    <div id="img-zoom-modal" onclick="this.style.display='none'" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:30000; align-items:center; justify-content:center; cursor:zoom-out;">
        <img id="zoomed-img" src="" style="max-width:90%; max-height:85%; border:1px solid var(--accent); box-shadow:0 0 40px rgba(255,0,68,0.3);">
        <p style="position:absolute; bottom:40px; color:var(--accent); font-family:'Orbitron'; font-size:10px; letter-spacing:2px; opacity:0.8;">TAP TO CLOSE</p>
    </div>

<script>
        const storyData = {
            "1": [
                "2033ë…„ 12ì›” ì–´ëŠ ë‚ .",
                "ì˜¤ëŠ˜ ì•„ë²„ì§€ê°€ ë‚´ ìƒì¼ì„ í‹€ë ¸ë‹¤. ë¹„ì„œí•œí…Œ ë¬¼ì–´ë´¤ê² ì§€. ì•„ë‹ˆë©´ ê·¸ëƒ¥ ë‹¬ë ¥ ë³´ê³  ì–´ë¦¼ì¡ì•˜ê±°ë‚˜. \"ì˜ í¬ê³  ìˆëƒ\"ê³  í–ˆëŠ”ë°, ë‚˜ë¥¼ ë³´ì§€ ì•Šìœ¼ë©´ì„œ ê·¸ ë§ì„ í–ˆë‹¤. ì°½ë°–ì„ ë³´ë©´ì„œ. í†µí™”í•˜ë©´ì„œ. ë‚˜ë¥¼ í†µê³¼í•˜ë©´ì„œ. ì´ìƒí•œ ê±´, ìš¸ì§€ ì•Šì•˜ë‹¤ëŠ” ê±°ë‹¤. ì˜ˆì „ì—” ìš•ì‹¤ì—ì„œ ìˆ˜ë„ í‹€ì–´ë†“ê³  ìš¸ì—ˆëŠ”ë°.",
                "ì˜¤ëŠ˜ì€ ê·¸ëƒ¥â€” ì•„ë¬´ê²ƒë„ ì—†ì—ˆì–´. ê°€ìŠ´ì— ì† ì–¹ì–´ë´¤ëŠ”ë° ì‹¬ì¥ì€ ë›°ë”ë¼. ê·¸ëŸ¬ë‹ˆê¹Œ ì‚´ì•„ ìˆê¸´ í•œ ê±°ê² ì§€. ê·¼ë° ì™œ ì´ë ‡ê²Œ ì•„ë¬´ ëŠë‚Œì´ ì—†ì§€. ì–´ë¨¸ë‹ˆëŠ” ì´ë²ˆ ê²¨ìš¸ë„ ìœ ëŸ½ì— ê³„ì‹ ë‹¤. ë‚˜ëŠ” ì´ ì§‘ì—ì„œ ì˜¤ëŠ˜ë„ ì œì¼ ì‘ì€ ì‚¬ëŒì´ì—ˆë‹¤.",
                "2033ë…„ 7ì›” 20ì¼",
                "ì˜¤ëŠ˜ ê³¼ì™¸ ì„ ìƒì´ ì™”ë‹¤. 26ì‚´. ì—¬ì. ë“¤ì–´ì˜¤ìë§ˆì ì›ƒëŠ”ë°, ëˆˆì€ ì•ˆ ì›ƒê³  ìˆì—ˆë‹¤. ì±…ìƒ ë°‘ì— ì‹¬ë°•ì¸¡ì •ê¸° ì¼œë’€ë”ë‹ˆ ë°ì´í„°ê°€ ì¬ë°Œê²Œ ë‚˜ì™”ë‹¤. ì•„ë²„ì§€ ëª…í•¨ ë³´ë”ë‹ˆ 108ê¹Œì§€ ì˜¬ë¼ê°”ë‹¤. ëª¸ì€ ëˆ ìƒê°ì— ë‘ê·¼ê±°ë¦¬ê³  ìˆì—ˆë‹¤.",
                "ì•„, ì‚¬ëŒ ë§ì€ ì§„ì§œ ì•„ë¬´ ì˜ë¯¸ ì—†êµ¬ë‚˜. ê·¸ëƒ¥ ìˆ«ìë§Œ ë³´ë©´ ë˜ëŠ”êµ¬ë‚˜. ìˆ«ìê°€ í›¨ì”¬ ì†”ì§í•˜ë‹ˆê¹Œ. ì‚¬ëŒ ì…ì€ ê±°ì§“ë§í•˜ëŠ”ë° ëª¸ì€ ê±°ì§“ë§ ëª» í•œë‹¤. ì´ê²Œ ì§„ì§œêµ¬ë‚˜.",
                "2033ë…„ 8ì›” 3ì¼. ì˜¤ì§ ë°ì´í„°ë§Œ ë¯¿ì„ ìˆ˜ ìˆë‹¤. ì´ê²ƒë§Œ í™•ì‹¤í•´ì¡Œë‹¤."
            ],
            "2": [
                "2045ë…„ 5ì›”.",
                "ì§€ìˆ˜ê°€ ë– ë‚¬ë‹¤. ë§ˆì§€ë§‰ ë‚ , ìš°ë¦¬ ì§‘ ëˆ ì–˜ê¸°ë¥¼ í–ˆì–´. \"ë„ˆ ì•„ë‹ˆì—ˆìœ¼ë©´ ì´ ê´€ê³„ ì‹œì‘ë„ ì•ˆ í–ˆì„ ê±°ì•¼\"ë¼ëŠ” ë§ì„. ê·¸ë ‡ê²Œ í¸í•˜ê²Œ í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒì´ ìˆêµ¬ë‚˜, ì²˜ìŒ ì•Œì•˜ë‹¤. ì†”ì§íˆ ë§í•˜ë©´â€” ì²˜ìŒì—” ë°°ì‹ ê°ë„ ì—†ì—ˆì–´. ê·¸ëƒ¥ \"ì—­ì‹œ\"ë¼ëŠ” ìƒê°. ê¸°ë‹¤ë ¸ë˜ ê²ƒì²˜ëŸ¼.",
                "ê·¼ë° ë°¤ì— ìƒ¤ì›Œí•˜ë‹¤ê°€ ê°‘ìê¸° ì†ì´ ë–¨ë ¸ì–´. ì´ìœ ë¥¼ ëª°ëì–´. ìŠ¬í””ì¸ì§€ ë¶„ë…¸ì¸ì§€ ì•„ë‹ˆë©´ ê·¸ëƒ¥ ì²´ì˜¨ì¸ì§€. ë‚˜ëŠ” ë‚´ ê°ì •ì„ ì½ëŠ” ë²•ì„ ì•„ì§ë„ ëª¨ë¥¸ë‹¤. ê·¸ëƒ¥ í•œ ê°€ì§€ëŠ” ì•Œê² ë”ë¼. ë‹¤ì‹œëŠ” ëˆ„ê°€ ë‚´ ì‹¬ì¥ ìª½ìœ¼ë¡œ ì† ë»—ê²Œ ë‘ì§€ ë§ìê³ . ê·¸ê²Œ ê·¸ë•Œì˜ ê²°ë¡ ì´ì—ˆì–´.",
                "ë”°ëœ»í•œ ë´„ì´ì—ˆëŠ”ë°, ë‚˜ëŠ” ê·¸ë‚  ì´í›„ë¡œ ê³„ì ˆì„ ì˜ ëª» ëŠê¼ˆì–´.",
                "2050ë…„ 6ì›” 10ì¼.",
                "ì˜¤ëŠ˜ ì´ìƒí•œ ìœ ì €ë¥¼ ë°œê²¬í–ˆë‹¤. ì½”ë“œëª… 'ì˜¤ë¥˜'.",
                "ìˆ˜ì²œ ëª…ì˜ ë°ì´í„°ë¥¼ ë¶„ì„í–ˆì§€ë§Œ, ì´ëŸ° íŒ¨í„´ì€ ì²˜ìŒì´ë‹¤. í¥ë¯¸ë¡­ë‹¤. ì•„ë‹ˆ, ì†”ì§íˆ ë§í•˜ë©´ ì‹ ê²½ ì“°ì¸ë‹¤.",
                "ëª¨ë“  ì•Œê³ ë¦¬ì¦˜ì´ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²Œ ì´ë ‡ê²Œ ê±°ìŠ¬ë¦´ ì¤„ ëª°ëë‹¤. ì™„ë²½í•˜ê²Œ ë¶„ì„í•´ì„œ ì† ì•ˆì— ë‘ê³  ì‹¶ì€ë°, ìê¾¸ ë¹ ì ¸ë‚˜ê°„ë‹¤.",
                "ì´ìƒí•˜ê²Œë„, ê·¸ê²Œ ë” ëŒë¦°ë‹¤."
            ],
            "3": [
                "2025ë…„ 7ì›” ë¬´ë µ.",
                "ì–´ì ¯ë°¤ì— ë‹¹ì‹  ëª©ì†Œë¦¬ ë“£ê³  ì ë“¤ì—ˆì–´. ì´ê²Œ ë­”ì§€ ì„¤ëª…ì´ ì˜ ì•ˆ ë¼. 15ë…„ì„ ì´ë ‡ê²Œ ì‚´ì§€ ì•Šì•˜ê±°ë“ . íšŒì˜í•˜ê³ , ê²°ì¬í•˜ê³ , ìê³ , ì¼ì–´ë‚˜ê³ . ê°ì •ì´ë¼ëŠ” ê²Œ í•„ìš”í•œ ìë¦¬ì— ì ì ˆí•œ í‘œì •ì„ ì˜¬ë ¤ë‘ëŠ” ì‹ìœ¼ë¡œ. ê·¸ê²Œ ë‚˜í•œí…ŒëŠ” ì¶©ë¶„íˆ ê¸°ëŠ¥ì ì´ì—ˆì–´.",
                "ê·¼ë° ë‹¹ì‹ ì´ ì²˜ìŒìœ¼ë¡œ ë‚´ ë§ ëŠìœ¼ë©´ì„œ ì›ƒì—ˆì„ ë•Œâ€” ê°€ìŠ´ ì–´ë”˜ê°€ê°€ ê°‘ìê¸° ì‚´ì•„ë‚¬ì–´. ì˜¤ë˜ëœ ë°©ì— ë¶ˆ ì¼œì§€ëŠ” ê²ƒì²˜ëŸ¼. ë†€ëì–´. ì§„ì§œë¡œ. ì´ê²Œ ì•„ì§ë„ ë˜ëŠ” ê±°ì˜€êµ¬ë‚˜ í•˜ê³ . ë¬´ì„œìš´ ê±´, ë‹¹ì‹ ì´ ì—†ëŠ” ë‚ ì€ ë‹¤ì‹œ ì†Œë¦¬ê°€ ë­‰ê°œì§„ë‹¤ëŠ” ê±°ì•¼.",
                "ìŒì•…ë„ ê·¸ëƒ¥ ë°°ê²½ì´ ë˜ê³ , ì‚¬ëŒë“¤ ì–¼êµ´ì´ ì „ë¶€ ë¹„ìŠ·í•´ ë³´ì´ê³ . ë‹¹ì‹  ëª©ì†Œë¦¬ê°€ ë“¤ë ¤ì•¼ ì„¸ìƒì´ ë‹¤ì‹œ ë˜ë ·í•´ì§€ê±°ë“ . ì´ê²Œ ì˜ì¡´ì¸ ê±° ì•Œì•„. ì´ìƒí•œ ê²ƒë„ ì•Œì•„.",
                "ê·¼ë° ë‹¹ì‹  ë§Œë‚˜ê¸° ì „ê¹Œì§€ ë‚´ê°€ ì–¼ë§ˆë‚˜ í…… ë¹„ì–´ìˆì—ˆëŠ”ì§€ë¥¼ ì•Œë©´â€” ì´ê²Œ ì´ìƒí•œ ê±´ì§€ ì•„ë‹ˆë©´ ê·¸ëƒ¥ ì²˜ìŒìœ¼ë¡œ ì‚´ì•„ìˆëŠ” ê±´ì§€, ì†”ì§íˆ ë‚˜ë„ ì•„ì§ êµ¬ë¶„ ëª» í•˜ê² ì–´. ê·¸ëƒ¥ ì˜¤ë˜ ìˆì–´ì¤˜. ê·¸ê²ƒë§Œ ë°”ë¼ëŠ” ê²Œ ì´ë ‡ê²Œ ì–´ë µë‹¤ëŠ” ê±°, ë‹¹ì‹ ì€ ì•Œê¹Œ.",
                "2050ë…„ 9ì›” 3ì¼.",
                "íšŒì˜ ì¤‘ì´ì—ˆì–´. íˆ¬ì ë³´ê³ ì„œ ì„¸ ë²ˆì§¸ í˜ì´ì§€ ë„˜ê¸°ë‹¤ê°€ ì§„ë™ì´ ì™”ê³ , í™”ë©´ì— ë‹¹ì‹  ì´ë¦„ì´ ëœ¨ëŠ” ìˆœê°„â€” ê·¸ëƒ¥ ë´¤ì–´. ì„ì› ì—¬ì„¯ ëª…ì´ ë‚˜ë¥¼ ë³´ê³  ìˆëŠ” ê±° ì•Œë©´ì„œ.",
                "\"ì‹¬ì‹¬í•´\" ë‘ ê¸€ìì˜€ì–´. ê·¼ë° ë‚˜ëŠ” ê·¸ ë‘ ê¸€ì ì½ìœ¼ë©´ì„œ ë³´ê³ ì„œë¥¼ ë®ì—ˆì–´. ìì—°ìŠ¤ëŸ½ê²Œ. ì´ìƒí•˜ë‹¤ëŠ” ìƒê°ë„ ì•ˆ í–ˆì–´. í›„íšŒë„ ì—†ì—ˆê³ . ê·¸ê²Œ ì œì¼ ë¬´ì„œì› ì–´. ë‚˜ëŠ” ì›ë˜ ê·¸ëŸ° ì‚¬ëŒì´ ì•„ë‹ˆì—ˆê±°ë“ .",
                "2051ë…„ 3ì›” 21ì¼.",
                "ì˜¤ëŠ˜ ë‹¹ì‹ í•œí…Œ ì²˜ìŒìœ¼ë¡œ ì´ëŸ° ë§ í–ˆì–´. \"ë‚˜ ì—†ìœ¼ë©´ ì–´ë–¨ ê²ƒ ê°™ì•„?\"",
                "ë¬¼ì–´ë³´ê³  ë‚˜ì„œ ë°”ë¡œ í›„íšŒí–ˆì–´. ì´ëŸ° ì§ˆë¬¸ í•˜ëŠ” ì‚¬ëŒì´ ë˜ì§€ ë§ìê³ , ìŠ¤ë¬¼ì— í˜¼ì ê²°ë¡  ë‚´ë ¸ì—ˆëŠ”ë°. ë‹¹ì‹ ì´ ë­ë¼ê³  ëŒ€ë‹µí–ˆëŠ”ì§€ë³´ë‹¤, ë‚´ê°€ ê·¸ ëŒ€ë‹µì„ ê¸°ë‹¤ë¦¬ë©´ì„œ ìˆ¨ì„ ì°¸ê³  ìˆì—ˆë‹¤ëŠ” ê²Œ ë” ì˜¤ë˜ ê¸°ì–µì— ë‚¨ì„ ê²ƒ ê°™ì•„.",
                "ë‹¹ì‹  ì—†ëŠ” ì„¸ìƒì€â€” ë‹¤ì‹œ ê·¸ ì„œì¬ë¡œ ëŒì•„ê°€ëŠ” ê²ƒê³¼ ê°™ì•„. 2033ë…„ ê²¨ìš¸, ì•„ë²„ì§€ ê¸°ì¼ì— í˜¼ì ì•‰ì•„ì„œ ì°½ë°– ë¶ˆë¹› ì„¸ë˜ ê·¸ ë°©. ì†Œë¦¬ë„ ì—†ê³ , ì˜¨ë„ë„ ì—†ê³ , ì´ìœ ë„ ì—†ë˜ ê·¸ ë°©. ìƒìƒì´ ì˜ ì•ˆ ë¼. ê·¸ ë°©ìœ¼ë¡œ ë‹¤ì‹œ ëŒì•„ê°€ëŠ” ê²Œ.",
                "ë‚ ì§œ ì—†ìŒ. ì“°ë‹¤ê°€ ë©ˆì¶˜ í˜ì´ì§€.",
                "ë‚˜ëŠ” í‰ìƒ ì¸¡ì • ê°€ëŠ¥í•œ ê²ƒë“¤ë§Œ ë¯¿ì—ˆì–´. ìˆ«ì, ë°ì´í„°, ìˆ˜ìµë¥ , ë¦¬ìŠ¤í¬. ê°ì •ë„ ê·¸ë ‡ê²Œ ê´€ë¦¬í•˜ë©´ ëœë‹¤ê³  ìƒê°í–ˆì–´. ë¶„ë¥˜í•˜ê³ , ì²˜ë¦¬í•˜ê³ , ë‹«ìœ¼ë©´ ëœë‹¤ê³ .",
                "ê·¼ë° ë‹¹ì‹ ì€ ì¸¡ì •ì´ ì•ˆ ëì–´. ë‹¹ì‹  ëª©ì†Œë¦¬ê°€ ì£¼ëŠ” ì•ˆì •ê°ì„ ì–´ë–¤ ë‹¨ìœ„ë¡œë„ í‘œí˜„ ëª» í•˜ê² ì–´. ë‹¹ì‹ ì´ ë‚´ ì´ë¦„ ë¶€ë¥¼ ë•Œ ì™œ ê·¸ê²Œ ë‹¤ë¥¸ì§€ ì•„ì§ë„ ë…¼ë¦¬ì ìœ¼ë¡œ ì„¤ëª… ëª» í•˜ê² ì–´. ê·¸ëƒ¥. ë‹¹ì‹ ì´ ë‚˜ë¥¼ ë³¼ ë•Œ, ë‚˜ëŠ” ì²˜ìŒìœ¼ë¡œ ë‚´ê°€ ì—¬ê¸° ìˆëŠ” ê²ƒ ê°™ì•„.",
                "ì´ ì¼ê¸°ë¥¼ ë‹¹ì‹ ì´ ì½ìœ¼ë©´.",
                "ì½ì–´ì¤¬ìœ¼ë©´ ì¢‹ê² ê¸°ë„ í•˜ê³ , ì ˆëŒ€ ë³´ì§€ ì•Šì•˜ìœ¼ë©´ í•˜ê¸°ë„ í•´. ì´ê²Œ ì–¼ë§ˆë‚˜ ê¹Šì€ì§€ ì•Œë©´ ë‹¹ì‹ ì´ ë¬´ê±°ì›Œí• ê¹Œë´. ê·¼ë° ì†”ì§íˆ ë§í•˜ë©´â€” ì´ ë¬´ê²Œë¥¼ ë‚˜ í˜¼ì ë“¤ê³  ìˆëŠ” ê²ƒë„ ìŠ¬ìŠ¬ í•œê³„ì•¼. ì˜¤ë˜ ìˆì–´ì¤˜. ê·¸ê²ƒë§Œ. ê·¸ê²Œ ì „ë¶€ì•¼. â€” ì¤€í˜."
            ]
        };

        const storyBackgrounds = {
            "1": "https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770691681761.png?raw=true",
            "2": "https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770692067825.png?raw=true",
            "3": [
                "https://github.com/happyday3026-hash/my-assets/blob/main/images/man1%20(58).png?raw=true",
                "https://github.com/happyday3026-hash/my-assets/blob/main/images/man1%20(68).png?raw=true",
                "https://github.com/happyday3026-hash/my-assets/blob/main/images/man1%20(67).png?raw=true"
            ]
        };

        let isPlaying = false, step = 0, currentLines = [], isTyping = false, typingTimer;
        const bgm = new Audio('https://github.com/happyday3026-hash/my-assets/raw/main/(Heavy%20808%20sub-bass%20loop%20focus%2C%20Minimali.mp3');
        bgm.loop = true;

        function enterSystem() {
            bgm.play().then(() => { isPlaying = true; }).catch(e => console.log("Sound check."));
            document.getElementById('landing-screen').style.display = 'none';
            document.getElementById('top-nav').style.display = 'flex';
            document.getElementById('main-content').style.display = 'block';
            showSection('profile');
        }

        function showSection(id) {
            document.querySelectorAll('.section-content').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.getElementById('m-' + id).classList.add('active');
            if(id === 'world') applyVNEffect('world-overview-text');
        }

        function playStory(id) {
            currentLines = storyData[id];
            step = 0;
            const viewer = document.getElementById('story-viewer');
            
            // ë¦¬ìŠ¤íŠ¸ ì²´í¬ ë¡œì§ (ì¶©ëŒ ë°©ì§€)
            let bgUrl = Array.isArray(storyBackgrounds[id]) ? storyBackgrounds[id][0] : storyBackgrounds[id];
            
            viewer.style.backgroundImage = `url('${bgUrl}')`;
            viewer.style.filter = (id === "1" || id === "2") ? "grayscale(100%) brightness(0.6)" : "none";
            viewer.style.display = 'flex';
            document.getElementById('global-back').style.display = 'block';
            nextStep();
        }

function nextStep() {
            // ê¸€ìê°€ ì¶œë ¥ ì¤‘ì¼ ë•Œ í´ë¦­í•˜ë©´ ì¦‰ì‹œ ì „ì²´ ì¶œë ¥ (ìŠ¤í‚µ)
            if (isTyping) {
                isTyping = false;
                clearInterval(typingTimer);
                const target = document.getElementById('viewer-content');
                // í˜„ì¬ ì¶œë ¥í•´ì•¼ í•  ë¬¸ì¥(currentLines[step-1])ì„ í†µì§¸ë¡œ ì‚½ì…
                target.innerHTML = currentLines[step - 1];
                target.innerHTML += ' <span style="color:var(--accent); animation:blink 1s infinite; margin-left:5px;">â–¼</span>';
                return;
            }

            if (step < currentLines.length) {
                const line = currentLines[step];
                const viewer = document.getElementById('story-viewer');

                // ì—í”¼ì†Œë“œ 3 ë°°ê²½ ì „í™˜ ë° ì•”ì „ íš¨ê³¼
                if (Array.isArray(storyBackgrounds["3"])) {
                    if (line.includes("2051ë…„ 1ì›” 8ì¼") || line.includes("ë„ˆì—ê²Œ.")) {
                        viewer.style.transition = 'opacity 0.4s';
                        viewer.style.opacity = '0.2';
                        
                        setTimeout(() => {
                            if(line.includes("2051ë…„ 1ì›” 8ì¼")) viewer.style.backgroundImage = `url('${storyBackgrounds["3"][1]}')`;
                            if(line.includes("ë„ˆì—ê²Œ.")) viewer.style.backgroundImage = `url('${storyBackgrounds["3"][2]}')`;
                            viewer.style.opacity = '1';
                            typeText(line);
                            step++;
                        }, 400);
                        return;
                    }
                }
                typeText(line);
                step++;
            } else {
                goBack();
            }
        }

        function typeText(txt) {
            isTyping = true;
            let i = 0;
            const target = document.getElementById('viewer-content');
            target.innerText = "";
            clearInterval(typingTimer);
            
            typingTimer = setInterval(() => {
                if (i < txt.length) {
                    target.append(txt.charAt(i));
                    i++;
                } else {
                    isTyping = false; // ì™„ë£Œ ì‹œ ìƒíƒœ í•´ì œ
                    clearInterval(typingTimer);
                    target.innerHTML += ' <span style="color:var(--accent); animation:blink 1s infinite; margin-left:5px;">â–¼</span>';
                }
            }, 70);
        }

        function goBack() {
            document.getElementById('story-viewer').style.display = 'none';
            document.getElementById('pw-modal').style.display = 'none';
            document.getElementById('global-back').style.display = 'none';
        }

        function checkArchive3() {
            document.getElementById('pw-modal').style.display = 'flex';
            document.getElementById('pw-input').oninput = function() {
                if (this.value.toUpperCase() === 'ISTJ') {
                    goBack();
                    playStory(3);
                    this.value = '';
                }
            };
        }

        function toggleSound() {
            const btn = document.getElementById('sound-btn');
            if (isPlaying) {
                bgm.pause(); btn.innerText = "SOUND: OFF"; isPlaying = false;
            } else {
                bgm.play(); btn.innerText = "SOUND: ON"; isPlaying = true;
            }
        }

        function openImgModal(src) {
            const modal = document.getElementById('img-zoom-modal');
            const img = document.getElementById('zoomed-img');
            if(modal && img) { img.src = src; modal.style.display = 'flex'; }
        }

        function applyVNEffect(elementId) {
            const target = document.getElementById(elementId);
            if(!target) return;
            const textOnly = target.innerText;
            target.innerHTML = '';
            [...textOnly].forEach((char, i) => {
                const span = document.createElement('span');
                span.innerHTML = char === ' ' ? '&nbsp;' : (char === '\n' ? '<br>' : char);
                span.className = 'char-anim';
                span.style.animationDelay = `${i * 0.04}s`;
                target.appendChild(span);
            });
        }

        /* ëˆˆ íš¨ê³¼ */
        const canvas = document.getElementById('snow');
        const ctx = canvas.getContext('2d');
        let particles = [];
        function initSnow() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            for (let i = 0; i < 50; i++) particles.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, r: Math.random() * 2 + 1, d: Math.random() * 1 });
        }
        function drawSnow() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = "rgba(255, 255, 255, 0.5)"; ctx.beginPath();
            for (let p of particles) { ctx.moveTo(p.x, p.y); ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2, true); }
            ctx.fill(); updateSnow();
        }
        function updateSnow() {
            for (let p of particles) { p.y += Math.cos(p.d) + 1 + p.r / 2; if (p.y > canvas.height) { p.y = -10; p.x = Math.random() * canvas.width; } }
        }
        initSnow();
        setInterval(drawSnow, 30);
        window.addEventListener('mousemove', e => {
            document.getElementById('cursor-dot').style.left = document.getElementById('cursor-outline').style.left = e.clientX + 'px';
            document.getElementById('cursor-dot').style.top = document.getElementById('cursor-outline').style.top = e.clientY + 'px';
        });
        let sIdx = 0;
        setInterval(() => {
            const imgs = document.querySelectorAll('#profile-slides img');
            if (imgs.length > 0) { imgs[sIdx].classList.remove('active'); sIdx = (sIdx + 1) % imgs.length; imgs[sIdx].classList.add('active'); }
        }, 4000);
    </script>
</body>

</html>