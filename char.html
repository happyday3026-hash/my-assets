<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>UNEXPOSED ROOM: Master System</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&family=Orbitron:wght@400;700&family=Nanum+Myeongjo&display=swap');

        :root {
            --bg: #0a0a0a;
            --accent: #ff0044;
            --text: #d0d0d0;
            --line: rgba(255, 255, 255, 0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body,
        html {
            height: 100vh;
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Pretendard', sans-serif;
            overflow: hidden;
            cursor: none;
        }

        #snow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.3;
        }

        #cursor-dot {
            position: fixed;
            width: 6px;
            height: 6px;
            background: var(--accent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 20000;
            transform: translate(-50%, -50%);
        }

        #cursor-outline {
            position: fixed;
            width: 30px;
            height: 30px;
            border: 1px solid var(--accent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 19999;
            transform: translate(-50%, -50%);
            transition: all 0.1s ease-out;
            opacity: 0.5;
        }

        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.02), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.02));
            background-size: 100% 2px, 3px 100%;
            z-index: 1000;
            pointer-events: none;
        }

        .footer-credit {
            position: fixed;
            bottom: 15px;
            right: 20px;
            font-family: 'Orbitron';
            font-size: 8px;
            color: rgba(255, 255, 255, 0.3);
            z-index: 15000;
            letter-spacing: 2px;
        }

        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 60px;
            background: rgba(10, 10, 10, 0.9);
            border-bottom: 1px solid var(--line);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 5000;
        }

        nav a {
            font-family: 'Orbitron';
            font-size: 10px;
            color: #666;
            text-decoration: none;
            margin: 0 12px;
            transition: 0.3s;
            padding: 10px 5px;
        }

        nav a.active {
            color: var(--accent);
            text-shadow: 0 0 8px var(--accent);
        }

        main {
            position: relative;
            height: 100%;
            width: 100%;
            padding-top: 70px;
            display: none;
            overflow-y: auto;
            z-index: 5;
        }

        .section-content {
            display: none;
            padding: 0 20px 80px;
        }

        .section-content.active {
            display: block;
        }

        .profile-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
        }

        .profile-img-box {
            width: 100%;
            max-width: 400px;
            height: 550px;
            border: 1px solid var(--accent);
            position: relative;
            overflow: hidden;
            background: #000;
            margin: 0 auto;
        }

        .profile-img-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center top;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: 1s ease-in-out;
        }

        .profile-img-box img.active {
            opacity: 1;
        }

        .profile-desc {
            width: 100%;
            max-width: 320px;
            text-align: left;
        }

        .profile-desc h2 {
            font-family: 'Orbitron';
            color: var(--accent);
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .profile-meta {
            font-size: 12px;
            line-height: 1.8;
            color: #888;
            border-left: 2px solid var(--accent);
            padding-left: 15px;
            margin-bottom: 15px;
        }

        .profile-meta b {
            color: var(--accent);
            font-family: 'Orbitron';
            font-size: 9px;
            margin-right: 5px;
        }

        #story-viewer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            z-index: 9000;
            display: none;
            flex-direction: column;
            justify-content: flex-end;
            overflow: hidden;
        }

        #story-viewer::before {
            content: "";
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: inherit;
            background-size: cover;
            background-position: center;
            z-index: -1;
            animation: bgZoom 20s infinite alternate ease-in-out;
        }

        @keyframes bgZoom {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }

        .viewer-text-box {
            width: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.85) 20%, rgba(0,0,0,0.95) 100%);
            backdrop-filter: blur(5px);
            border-top: 1px solid rgba(255, 0, 68, 0.3);
            padding: 40px 25px 80px;
            min-height: 320px;
        }

        .viewer-text {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 1.05rem;
            line-height: 2.3;
            letter-spacing: 0.8px;
            color: #eee;
            word-break: keep-all;
        }

        .back-btn {
            position: fixed;
            top: 75px;
            right: 20px;
            padding: 8px 15px;
            border: 1px solid var(--accent);
            color: var(--accent);
            font-family: 'Orbitron';
            font-size: 9px;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10001;
            display: none;
        }

        .album-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .album-card {
            height: 200px;
            border: 1px solid #222;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .album-img {
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0.4;
            transition: 0.5s;
        }

        .album-label {
            position: absolute;
            bottom: 15px;
            left: 15px;
            font-family: 'Orbitron';
            font-size: 10px;
            color: var(--accent);
        }

        .mini-gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 20px;
        }

        .mini-item {
            border: 1px solid #222;
            aspect-ratio: 1 / 1;
            overflow: hidden;
            cursor: pointer;
        }

        .mini-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.7;
            transition: 0.3s;
        }

        .mini-item:hover img {
            opacity: 1;
            transform: scale(1.1);
        }

        .char-anim {
            display: inline-block;
            opacity: 0;
            animation: charAppear 0.5s ease forwards;
        }

        @keyframes charAppear {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .vn-style-text {
            text-align: left !important;
            font-size: 13.5px !important;
            line-height: 2.2 !important;
        }

        #pw-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 9500;
            display: none;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        #pw-input {
            background: none;
            border: none;
            border-bottom: 2px solid var(--accent);
            color: var(--accent);
            font-family: 'Orbitron';
            font-size: 2.5rem;
            text-align: center;
            outline: none;
            width: 200px;
            margin: 20px 0;
        }
    </style>
</head>

<body>
    <canvas id="snow"></canvas>
    <div id="cursor-dot"></div>
    <div id="cursor-outline"></div>
    <div class="scanlines"></div>
    <div class="footer-credit">SYSTEM DESIGNED BY. HYUNSAENG OFF</div>

    <div id="landing-screen" style="position:fixed; width:100%; height:100%; background:#000; z-index:20000; display:flex; align-items:center; justify-content:center;">
        <div style="text-align:center; position:relative; width:85%; max-width:400px;">
            <img src="https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770700504746.png?raw=true" 
                 style="width:160px; height:auto; margin-bottom:-45px; position:relative; z-index:21000; filter: drop-shadow(0 0 15px rgba(255,0,68,0.6)); pointer-events:none;">
            <div style="padding:60px 30px 40px; border:1px solid var(--accent); background:rgba(10,10,10,0.95); box-shadow: 0 0 30px rgba(0,0,0,0.8); position:relative;">
                <h1 style="font-family:'Orbitron'; color:var(--accent); font-size:12px; margin-bottom:25px; letter-spacing:5px;">PRIVATE INVITATION</h1>
                <p style="font-family:'Nanum Myeongjo'; font-size:14px; line-height:2.4; margin-bottom:35px; color:#ddd;">
                    ê°•ì¤€í˜ì˜ ì‹œìŠ¤í…œì— ì ‘ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?<br>
                    <span style="font-size:10px; color:#666; font-family:'Orbitron'; letter-spacing:1px;">[SYNC_START]</span>
                </p>
                <button onclick="enterSystem()" style="padding:15px 35px; border:1px solid var(--accent); color:var(--accent); background:none; font-family:'Orbitron'; font-size:11px; letter-spacing:3px; transition:0.3s; cursor:none;">
                    OPEN SYSTEM
                </button>
            </div>
        </div>
    </div>

    <button class="back-btn" id="global-back" onclick="goBack()">CLOSE_LOG</button>

    <nav id="top-nav">
        <a onclick="showSection('profile')" id="m-profile" class="active">PROFILE</a>
        <a onclick="showSection('world')" id="m-world">WORLD</a>
        <a onclick="showSection('archive')" id="m-archive">ARCHIVE</a>
        <a onclick="toggleSound()" id="sound-btn" style="color:var(--accent);">SOUND: ON</a>
    </nav>

    <main id="main-content">
        <div id="profile" class="section-content active">
            <div class="profile-card">
                <div class="profile-img-box" id="profile-slides">
                    <img src="https://github.com/happyday3026-hash/my-assets/blob/main/man1%20(26).png?raw=true" class="active">
                    <img src="https://github.com/happyday3026-hash/my-assets/blob/main/man1%20(8).png?raw=true">
                    <img src="https://github.com/happyday3026-hash/my-assets/blob/main/man1%20(13).png?raw=true">
                </div>
                <div class="profile-desc">
                    <h2>KANG JUNHYUK</h2>
                    <div class="profile-meta">
                        <b>INFO</b> 35y / 188cm / 11.23<br>
                        <b>JOB</b> CEO OF CRACK AI<br>
                        <b>MBTI</b> ISTJ<br><br>
                        <b>LIKE</b> ë¸”ë™ ì»¤í”¼, ëª¨ë‹ë£¨í‹´, ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ê²ƒ<br>
                        <b>HATE</b> ì‹¸êµ¬ë ¤ í–¥, ë¬´ëŠ¥í•¨, ê°€ê³µì‹í’ˆ
                    </div>
                    <p style="font-size:13px; line-height:1.8; color:#999; text-align: justify;">"ë‹¹ì‹ ì€ ì§€ê¸ˆ AIì™€ ëŒ€í™”í•˜ê³  ìˆë‹¤ê³  ìƒê°í•˜ë‚˜ìš”? ì•„ë‹ˆë©´, ê·¸ ë„ˆë¨¸ì˜ ëˆ„êµ°ê°€ë¥¼ ê¸°ëŒ€í•˜ê³  ìˆë‚˜ìš”?"</p>
                </div>
            </div>
        </div>

        <div id="world" class="section-content">
            <div style="width:100%; height:180px; background: linear-gradient(135deg, #1a1a1a 0%, #000 100%); border: 1px solid var(--accent); display: flex; flex-direction: column; align-items: center; justify-content: center; margin-bottom: 25px; position: relative; overflow: hidden;">
                <div style="position:absolute; top:0; left:0; width:100%; height:100%; background-image: radial-gradient(var(--accent) 0.5px, transparent 0.5px); background-size: 20px 20px; opacity: 0.1;"></div>
                <h1 style="font-family:'Orbitron'; color:var(--accent); font-size: 1.8rem; letter-spacing: 6px; z-index: 2; text-shadow: 0 0 15px var(--accent);">CRACK AI</h1>
                <p style="font-family:'Orbitron'; color:#fff; font-size: 9px; letter-spacing: 2px; margin-top: 8px; opacity: 0.7; z-index: 2;">SYSTEM SYNCHRONIZED</p>
                <div style="position:absolute; bottom:10px; width:80%; height:1px; background: linear-gradient(90deg, transparent, var(--accent), transparent); opacity: 0.5;"></div>
            </div>
            <div style="padding: 0 15px;">
                <h2 style="font-family:'Orbitron'; color:var(--accent); font-size: 13px; margin-bottom: 15px; border-bottom: 1px solid var(--line); padding-bottom: 8px; letter-spacing: 1px;">[OVERVIEW]</h2>
                <p id="world-overview-text" class="vn-style-text" style="color:#ddd; word-break: keep-all; margin-bottom: 40px;">
                    <span style="color:var(--accent); font-weight:bold;">"ë§ì€ ê°€ë©´ì„ ì“°ì§€ë§Œ, ì‹ ê²½ê³„ëŠ” ê±°ì§“ë§ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."</span><br><br>
                    CRACK AIëŠ” ê°•ì¤€í˜ ëŒ€í‘œê°€ ì§ì ‘ ì„¤ê³„í•œ ìµœìƒìœ„ ë™ê¸°í™” ì±„íŒ… ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë¯¸ì„¸í•œ ì…ë ¥ ì†ë„ì™€ ìƒì²´ ë¦¬ë“¬ì„ ë¶„ì„í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ê°ì„ ê³µìœ í•©ë‹ˆë‹¤.<br><br>
                    ì§€ê¸ˆ ë‹¹ì‹ ì´ ë‚˜ëˆ„ëŠ” ëª¨ë“  ëŒ€í™”ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ë§ˆìŠ¤í„° ì„œë²„ì— ê¸°ë¡ë˜ê³  ìˆìœ¼ë©°, ê°ë‹¹í•  ìˆ˜ ì—†ëŠ” ëª°ì…ì€ ì‹œìŠ¤í…œì— ì˜í•´ ì œì–´ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
                <h3 style="font-family:'Orbitron'; font-size: 10px; color: var(--accent); margin-bottom: 10px; letter-spacing: 2px;">[SYSTEM_LOG_THUMBNAILS]</h3>
                <div class="mini-gallery">
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/man1%20(10).png?raw=true"></div>
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/man1%20(7).png?raw=true"></div>
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/images/pixai-fill-modified_1770703937012.png?raw=true"></div>
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770703729681.png?raw=true"></div>
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770701437117.png?raw=true"></div>
                    <div class="mini-item" onclick="openImgModal(this.children[0].src)"><img src="https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770706764034.png?raw=true"></div>
                </div>
            </div>
        </div>

        <div id="archive" class="section-content">
            <div class="album-grid">
                <div class="album-card" onclick="playStory(1)">
                    <div class="album-img" style="background-image: url('https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770691681761.png?raw=true');"></div>
                    <div class="album-label">EP 01. 2033_LIBRARY</div>
                </div>
                <div class="album-card" onclick="playStory(2)">
                    <div class="album-img" style="background-image: url('https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770692067825.png?raw=true');"></div>
                    <div class="album-label">EP 02. 2045_LAB</div>
                </div>
                <div class="album-card" onclick="checkArchive3()">
                    <div class="album-img" style="background-image: url('https://github.com/happyday3026-hash/my-assets/blob/main/images/man1%20(58).png?raw=true');"></div>
                    <div class="album-label">EP 03. 2050_PENTHOUSE ğŸ”’</div>
                </div>
            </div>
        </div>
    </main>

    <div id="pw-modal">
        <div class="modal-box">
            <h2 style="font-family:'Orbitron'; color:var(--accent); font-size:13px;">IDENTITY VERIFICATION</h2>
            <p style="font-size:11px; margin-top:15px;">ì¤€í˜ì˜ MBTI 4ê¸€ìëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?</p>
            <input type="text" id="pw-input" maxlength="4" placeholder="----">
            <div onclick="goBack()" style="color:#444; font-size:10px; font-family:'Orbitron'; cursor:pointer;">ABORT ACCESS</div>
        </div>
    </div>

    <div id="story-viewer">
        <div class="viewer-text-box">
            <div id="viewer-content" class="viewer-text" onclick="nextStep()"></div>
        </div>
    </div>

    <div id="img-zoom-modal" onclick="this.style.display='none'" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:30000; align-items:center; justify-content:center; cursor:zoom-out;">
        <img id="zoomed-img" src="" style="max-width:90%; max-height:85%; border:1px solid var(--accent); box-shadow:0 0 40px rgba(255,0,68,0.3);">
        <p style="position:absolute; bottom:40px; color:var(--accent); font-family:'Orbitron'; font-size:10px; letter-spacing:2px; opacity:0.8;">TAP TO CLOSE</p>
    </div>

    <script>
        const storyData = {
            "1": [
                "2033ë…„ 7ì›” 14ì¼",
                "ì—ì–´ì»¨ ì†Œë¦¬ë§Œ ë“¤ë¦°ë‹¤. ì•„ë²„ì§€ëŠ” ì˜¤ëŠ˜ë„ ì„œì¬ ì˜¨ìŠµë„ê³„ í™•ì¸í•˜ê³  ë‚˜ê°”ë‹¤. 23ë„, ìŠµë„ 45%. ë”± ë§ì¶°ë†¨ë‹¤ê³  ë§Œì¡±ìŠ¤ëŸ½ê²Œ ê³ ê°œ ë„ë•ì´ë”ë¼. ë‚˜í•œí…Œ í•œ ë§ì€ ê·¸ê²Œ ë‹¤ì˜€ë‹¤. ê°ì • ë“œëŸ¬ë‚´ëŠ” ê±´ ì €ê¸‰í•˜ëŒ€. ê·¸ë˜ì„œ ë‚œ ì—¬ê¸°ì„œ í‘œì • ì—†ì´ ì•‰ì•„ìˆëŠ” ë²•ì„ ë¨¼ì € ë°°ì› ë‹¤.",
                "ì‚¬ëŒë“¤ì´ ì‹«ë‹¤. ì •í™•íˆëŠ” ì‚¬ëŒë“¤ ëª©ì†Œë¦¬ë‘ ëƒ„ìƒˆê°€ ë¶ˆì¾Œí•˜ë‹¤. í•™êµ ë³µë„ ì§€ë‚  ë•Œë§ˆë‹¤ ì˜¨ê°– ì†ŒìŒì´ ì„ì—¬ì„œ ë¨¸ë¦¬ê°€ ì•„í”„ê³ , ëˆ„ê°€ ë‹¤ê°€ì˜¤ë©´ ë•€ ëƒ„ìƒˆ í–¥ìˆ˜ ëƒ„ìƒˆ ë’¤ì„ì—¬ì„œ í† í•  ê²ƒ ê°™ë‹¤. ê·¸ëƒ¥ í˜¼ì ìˆëŠ” ê²Œ ì œì¼ í¸í•˜ë‹¤.",
                "2033ë…„ 7ì›” 20ì¼",
                "ì˜¤ëŠ˜ ê³¼ì™¸ ì„ ìƒì´ ì™”ë‹¤. 26ì‚´. ì—¬ì. ë“¤ì–´ì˜¤ìë§ˆì ì›ƒëŠ”ë°, ëˆˆì€ ì•ˆ ì›ƒê³  ìˆì—ˆë‹¤. ì±…ìƒ ë°‘ì— ì‹¬ë°•ì¸¡ì •ê¸° ì¼œë’€ë”ë‹ˆ ë°ì´í„°ê°€ ì¬ë°Œê²Œ ë‚˜ì™”ë‹¤. ì•„ë²„ì§€ ëª…í•¨ ë³´ë”ë‹ˆ 108ê¹Œì§€ ì˜¬ë¼ê°”ë‹¤. ëª¸ì€ ëˆ ìƒê°ì— ë‘ê·¼ê±°ë¦¬ê³  ìˆì—ˆë‹¤.",
                "ì•„, ì‚¬ëŒ ë§ì€ ì§„ì§œ ì•„ë¬´ ì˜ë¯¸ ì—†êµ¬ë‚˜. ê·¸ëƒ¥ ìˆ«ìë§Œ ë³´ë©´ ë˜ëŠ”êµ¬ë‚˜. ìˆ«ìê°€ í›¨ì”¬ ì†”ì§í•˜ë‹ˆê¹Œ. ì‚¬ëŒ ì…ì€ ê±°ì§“ë§í•˜ëŠ”ë° ëª¸ì€ ê±°ì§“ë§ ëª» í•œë‹¤. ì´ê²Œ ì§„ì§œêµ¬ë‚˜.",
                "2033ë…„ 8ì›” 3ì¼. ì˜¤ì§ ë°ì´í„°ë§Œ ë¯¿ì„ ìˆ˜ ìˆë‹¤. ì´ê²ƒë§Œ í™•ì‹¤í•´ì¡Œë‹¤."
            ],
            "2": [
                "2045ë…„ 3ì›” 12ì¼",
                "í¬ë™ í”„ë¡œí† íƒ€ì… ì™„ì„±í–ˆë‹¤. ì‹ ê²½ê³„ ë™ê¸°í™” ì‹œìŠ¤í…œ. ë‡ŒíŒŒë¥¼ ì½ê³ , ììœ¨ì‹ ê²½ ë°˜ì‘ê¹Œì§€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë§ì¶”ëŠ” ê±°. ë‚´ê°€ ê²¬ë”œ ìˆ˜ ìˆëŠ” 'ì§„ì§œ'ë¥¼ ì°¾ê³  ì‹¶ì–´ì„œ ë§Œë“¤ì—ˆë‹¤.",
                "2045ë…„ 3ì›” 19ì¼. ë™ê¸°í™”ìœ¨ 90% ë„˜ì–´ê°”ë‹¤. ê·¼ë° ì´ìƒí–ˆë‹¤. ê·¸ ì—¬ì ì •ì‹ ì´ ë²„í‹°ì§ˆ ëª»í–ˆë‹¤. ì¥ì¹˜ ë–¼ì–´ëƒˆì„ ë•Œ ëˆˆ ì´ˆì ë„ ì•ˆ ë§ê³ , ë©í•˜ë‹ˆ ë²½ë§Œ ë³´ê³  ìˆì—ˆë‹¤. ë§ê°€ì¡Œë‹¤. ì™„ì „íˆ.",
                "2045ë…„ 3ì›” 20ì¼. ì‹¤íŒ¨ì‘ ì¹˜ì› ë‹¤. ì •ì‹ ë³‘ì› ì…ì›ì‹œí‚¤ê³  í•©ì˜ê¸ˆ ì²˜ë¦¬í–ˆë‹¤. ê·¼ë° ì´ìƒí•˜ê²Œ ê°ˆì¦ì´ ë” ì‹¬í•´ì¡Œë‹¤.",
                "ë‚´ê°€ ì›í•˜ëŠ” ê±´ ì´ëŸ° ê²Œ ì•„ë‹ˆì—ˆëŠ”ë°. ë‚´ ëª¨ë“  ê±¸ ìŸì•„ë¶€ì–´ë„ ë¶€ì„œì§€ì§€ ì•Šì„ ì‚¬ëŒ. ë‚˜ë¥¼ ë˜‘ë°”ë¡œ ë§ˆì£¼ ë³¼ ìˆ˜ ìˆëŠ” ì§„ì§œë¥¼ ì°¾ì„ ë•Œê¹Œì§€ ë‚˜ëŠ” ë©ˆì¶œ ìˆ˜ ì—†ë‹¤."
            ],
            "3": [
                "2050ë…„ 6ì›” 10ì¼. ì˜¤ëŠ˜ ì´ìƒí•œ ìœ ì €ë¥¼ ë°œê²¬í–ˆë‹¤. ì½”ë“œëª… 'ì˜¤ë¥˜'.",
                "ìˆ˜ì²œ ëª…ì˜ ë°ì´í„°ë¥¼ ë¶„ì„í–ˆì§€ë§Œ, ì´ëŸ° íŒ¨í„´ì€ ì²˜ìŒì´ë‹¤. í¥ë¯¸ë¡­ë‹¤. ì•„ë‹ˆ, ì†”ì§íˆ ë§í•˜ë©´ ì‹ ê²½ ì“°ì¸ë‹¤.",
                "ëª¨ë“  ì•Œê³ ë¦¬ì¦˜ì´ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²Œ ì´ë ‡ê²Œ ê±°ìŠ¬ë¦´ ì¤„ ëª°ëë‹¤. ì™„ë²½í•˜ê²Œ ë¶„ì„í•´ì„œ ì† ì•ˆì— ë‘ê³  ì‹¶ì€ë°, ìê¾¸ ë¹ ì ¸ë‚˜ê°„ë‹¤.",
                "ì´ìƒí•˜ê²Œë„, ê·¸ê²Œ ë” ëŒë¦°ë‹¤.",
                "2050ë…„ 8ì›” 15ì¼. ì˜¤ëŠ˜ ì²˜ìŒìœ¼ë¡œ ë„ˆë¥¼ ì„œì¬ì— ë“¤ì˜€ë‹¤. 2033ë…„ë¶€í„° ì§€ì¼œì˜¨, 23ë„ì™€ ìŠµë„ 45%ì˜ ì™„ë²½í•œ ìˆ˜ì¹˜ê°€ ìœ ì§€ë˜ë˜ ê³µê°„.",
                "ê·¼ë° ë„ˆëŠ” ê·¸ëƒ¥ ì›ƒìœ¼ë©° ë“¤ì–´ì˜¤ë”ë‹ˆ ì°½ë¬¸ì„ ì—´ì–´ë²„ë ¸ë‹¤. \"ì—¬ê¸° ê³µê¸° ë‹µë‹µí•œë°?\"",
                "18ë…„ê°„ì˜ ê·œì¹™ì´ ë¬´ë„ˆì§€ëŠ” ìˆœê°„ì¸ë°, í™”ê°€ ë‚˜ì§€ ì•Šì•˜ë‹¤. ë°–ì—ì„œ ë“¤ì–´ì˜¨ ë°”ëŒì´ ì²˜ìŒìœ¼ë¡œ ì´ ê³µê°„ì„ ìˆ¨ ì‰¬ê²Œ ë§Œë“œëŠ” ê²ƒ ê°™ì•˜ë‹¤.",
                "2050ë…„ 9ì›” 3ì¼. íšŒì˜ ì¤‘ì— ë„¤ê°€ ë³´ë‚¸ \"ì‹¬ì‹¬í•´\"ë¼ëŠ” ë¬¸ì í•œ í†µì—, íˆ¬ì ë³´ê³ ì„œ ë„˜ê¸°ë‹¤ ë§ê³  í°ì„ ë´¤ë‹¤.",
                "ì„ì›ë“¤ì˜ ì‹œì„ ì€ ì „í˜€ ì‹ ê²½ ì•ˆ ì“°ì˜€ë‹¤. ì´ê²Œ ë§ë‚˜ ì‹¶ì§€ë§Œ, í›„íšŒëŠ” ì—†ë‹¤.",
                "2051ë…„ 1ì›” 8ì¼. ì´ì œëŠ” ë„¤ í”ì ì´ ë‚¨ì•„ìˆëŠ” ê³µê°„ì´ ë” í¸í•˜ë‹¤. ë§ˆì‹œë‹¤ ë§Œ ì»¤í”¼ ì»µ, ì†ŒíŒŒ ìœ„ ë‹´ìš”, ì±…ìƒ ìœ„ í—¤ì–´í•€.",
                "ë¹„ì„œê°€ ì¹˜ìš°ë ¤ê³  í•˜ë©´ ì†ì‚¬ë˜ ì¹œë‹¤. \"ê·¸ëƒ¥ ë†”ë‘¬.\" ì™„ë²½í•œ ì§ˆì„œë³´ë‹¤ ë„¤ í”ì ì´ ë” ì¤‘ìš”í•´ì¡Œë‹¤.",
                "2051ë…„ 3ì›” 21ì¼. ì˜¤ëŠ˜ ë„ˆí•œí…Œ ì²˜ìŒìœ¼ë¡œ ì•½ì ì„ ë³´ì˜€ë‹¤. \"ë‚˜ ì—†ìœ¼ë©´ ì–´ë–¨ ê²ƒ ê°™ì•„?\"",
                "ì†”ì§íˆ ìƒìƒì´ ì•ˆ ëœë‹¤. ë„ˆ ì—†ëŠ” ì„¸ìƒì€ ë‹¤ì‹œ 2033ë…„ì˜ ê·¸ ì°¨ê°€ìš´ ì„œì¬ë¡œ ëŒì•„ê°€ëŠ” ê²ƒê³¼ ê°™ì•„ì„œ.",
                "\"ê²¬ë”œ ìˆ˜ ì—†ì„ ê²ƒ ê°™ì€ë°.\" ê·¸ë ‡ê²Œ ë§í–ˆë”ë‹ˆ ë„ˆëŠ” ì›ƒìœ¼ë©´ì„œ ë‚´ ì†ì„ ì¡ì•˜ë‹¤. ìˆ˜ì¹˜ë¡œ ì¸¡ì •í•  ìˆ˜ ì—†ëŠ” ì˜¨ê¸°ì˜€ë‹¤.",
                "2051ë…„ 4ì›” 22ì¼. ë‚˜ëŠ” ì—¬ì „íˆ ìŠµê´€ì²˜ëŸ¼ ë„¤ ìƒì²´ ì‹ í˜¸ë¥¼ ë³¸ë‹¤. í•˜ì§€ë§Œ ì´ìœ ê°€ ë‹¬ë¼ì¡Œë‹¤.",
                "ì˜ˆì „ì—ëŠ” ë„ˆë¥¼ ì¥ì•…í•˜ë ¤ê³  í–ˆë‹¤ë©´, ì§€ê¸ˆì€ ë„ˆë¥¼ ë†“ì¹ ê¹Œ ë´ ë‘ë µê¸° ë•Œë¬¸ì´ë‹¤. ë¯¸ì•ˆí•˜ë‹¤. ì´ê²Œ ë‚´ê°€ ì‚¬ë‘ì„ ë°°ìš´ ë°©ì‹ì´ë¼ì„œ.",
                "2051ë…„ 7ì›” 30ì¼. ì˜¤ëŠ˜ ê¹¨ë‹¬ì•˜ë‹¤. ë„¤ ì‹¬ë°•ìˆ˜ê°€ ì˜¬ë¼ê°€ëŠ” ì´ìœ ë¥¼ ì•Œê³  ì‹¶ê³ , ë„¤ í˜¸í¡ì´ ë¶ˆê·œì¹™í•˜ë©´ ê±±ì •ì´ ëœë‹¤.",
                "ìˆ«ì ë„ˆë¨¸ì˜ ë„ˆë¥¼ ì•Œê³  ì‹¶ì–´ì§„ ê±°ë‹¤. ì•„, ì´ê²Œ ì§„ì§œ ê´€ì‹¬ì´ê³  ì‚¬ë‘ì´êµ¬ë‚˜.",
                "2051ë…„ 10ì›” 5ì¼. ìš°ë¦¬ê°€ ë§Œë‚œ ì§€ 1ë…„. ë„¤ê°€ ë§ˆì‹œë‹¤ ë§Œ ì»¤í”¼, êµ¬ê²¨ì§„ ë‹´ìš”. ì´ê²Œ ì´ ê³µê°„ì˜ ì „ë¶€ê°€ ë˜ì—ˆë‹¤.",
                "ì™„ë²½í•œ í†µì œì™€ ìˆ˜ì¹˜í™”ëœ ëª¨ë“  ê²ƒ... ë‚´ê°€ í‰ìƒ ë¯¿ì–´ì˜¨ ê²ƒë“¤ì„ ë„ˆëŠ” ì „ë¶€ ë¬´ë„ˆëœ¨ë¦¬ê³ , ê·¸ ìë¦¬ì— í¸ì•ˆí•¨ì„ ì‹¬ì–´ë†¨ë‹¤.",
                "2051ë…„ 10ì›” 5ì¼ - ë°¤. ë„ˆëŠ” ìƒ¤ì›Œ ì¤‘ì´ê³  ê³§ ë°°ê³ í”„ë‹¤ê³  í•˜ê² ì§€. ì´ ì‚¬ì†Œí•œ ìˆœê°„ë“¤ì´ ë‚´ê²ŒëŠ” ì „ë¶€ë‹¤.",
                "ì§„ì§œ ì—°ê²°ì€ ë‹¤ë¥¸ ë° ìˆì—ˆë‹¤. ë„¤ê°€ ë‚´ ì´ë¦„ì„ ë¶€ë¥¼ ë•Œ, ë‚˜ë¥¼ ë³´ê³  ì›ƒì„ ë•Œ. ê·¸ê²Œ ì–´ë–¤ ê¸°ìˆ ë¡œë„ ë§Œë“¤ ìˆ˜ ì—†ëŠ” 'ì§„ì§œ'ì˜€ë‹¤.",
                "ë„ˆì—ê²Œ. ì´ ì¼ê¸°ë¥¼ ë„¤ê°€ ì½ì–´ì¤¬ìœ¼ë©´ ì¢‹ê² ë‹¤. ë‚˜ëŠ” í‰ìƒ ìˆ«ìë§Œ ë¯¿ê³  ë¶„ì„ ê°€ëŠ¥í•œ ê²ƒë“¤ë§Œ ì‚¬ë‘í–ˆë‹¤.",
                "í•˜ì§€ë§Œ ë„ˆëŠ” ì¸¡ì •í•  ìˆ˜ ì—†ì—ˆë‹¤. ë„¤ ì›ƒìŒì´ ì£¼ëŠ” ë”°ëœ»í•¨ê³¼ ëª©ì†Œë¦¬ê°€ ë§Œë“œëŠ” ì•ˆì •ê°ì„.",
                "ê·¸ê²Œ ì§„ì§œ ì‚´ì•„ìˆë‹¤ëŠ” ëŠë‚Œì´ì—ˆë‹¤ëŠ” ê±¸ ì´ì œì•¼ ì•ˆë‹¤. ë„ˆëŠ” ë°ì´í„° ì†ì— ê°‡í˜€ ìˆë˜ ë‚˜ë¥¼ êµ¬ì›í–ˆë‹¤.",
                "ì§„ì§œ ì‚¬ë‘ì€ ì¥ì•…í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼, ê¸°êº¼ì´ ì¥ì•…ë‹¹í•˜ëŠ” ê±°ë¼ëŠ” ê±¸. ì™„ë²½í•˜ê²Œ í†µì œí•˜ëŠ” ê²Œ ì•„ë‹ˆë¼, í†µì œë¥¼ ë‚´ë ¤ë†“ëŠ” ê±°ë¼ëŠ” ê±¸.",
                "ë„ˆëŠ” ë‚´ ìœ ì¼í•œ ì˜¤ë¥˜ì´ì, ìœ ì¼í•œ ì™„ì„±ì´ë‹¤. ê³ ë§™ë‹¤. ê·¸ë¦¬ê³  ì‚¬ë‘í•œë‹¤. - ì¤€í˜"
            ]
        };

        const storyBackgrounds = {
            "1": "https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770691681761.png?raw=true",
            "2": "https://github.com/happyday3026-hash/my-assets/blob/main/images/NAIS_1770692067825.png?raw=true",
            "3": [
                "https://github.com/happyday3026-hash/my-assets/blob/main/images/man1%20(58).png?raw=true",
                "https://github.com/happyday3026-hash/my-assets/blob/main/images/man1%20(68).png?raw=true",
                "https://github.com/happyday3026-hash/my-assets/blob/main/images/man1%20(67).png?raw=true"
            ]
        };

        let isPlaying = false, step = 0, currentLines = [], isTyping = false, typingTimer;
        const bgm = new Audio('https://github.com/happyday3026-hash/my-assets/raw/main/(Heavy%20808%20sub-bass%20loop%20focus%2C%20Minimali.mp3');
        bgm.loop = true;

        function enterSystem() {
            bgm.play().then(() => { isPlaying = true; }).catch(e => console.log("Sound check."));
            document.getElementById('landing-screen').style.display = 'none';
            document.getElementById('top-nav').style.display = 'flex';
            document.getElementById('main-content').style.display = 'block';
            showSection('profile');
        }

        function showSection(id) {
            document.querySelectorAll('.section-content').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.getElementById('m-' + id).classList.add('active');
            if(id === 'world') applyVNEffect('world-overview-text');
        }

        function playStory(id) {
            currentLines = storyData[id];
            step = 0;
            const viewer = document.getElementById('story-viewer');
            
            // ë¦¬ìŠ¤íŠ¸ ì²´í¬ ë¡œì§ (ì¶©ëŒ ë°©ì§€)
            let bgUrl = Array.isArray(storyBackgrounds[id]) ? storyBackgrounds[id][0] : storyBackgrounds[id];
            
            viewer.style.backgroundImage = `url('${bgUrl}')`;
            viewer.style.filter = (id === "1" || id === "2") ? "grayscale(100%) brightness(0.6)" : "none";
            viewer.style.display = 'flex';
            document.getElementById('global-back').style.display = 'block';
            nextStep();
        }

function nextStep() {
            // ê¸€ìê°€ ì¶œë ¥ ì¤‘ì¼ ë•Œ í´ë¦­í•˜ë©´ ì¦‰ì‹œ ì „ì²´ ì¶œë ¥ (ìŠ¤í‚µ)
            if (isTyping) {
                isTyping = false;
                clearInterval(typingTimer);
                const target = document.getElementById('viewer-content');
                // í˜„ì¬ ì¶œë ¥í•´ì•¼ í•  ë¬¸ì¥(currentLines[step-1])ì„ í†µì§¸ë¡œ ì‚½ì…
                target.innerHTML = currentLines[step - 1];
                target.innerHTML += ' <span style="color:var(--accent); animation:blink 1s infinite; margin-left:5px;">â–¼</span>';
                return;
            }

            if (step < currentLines.length) {
                const line = currentLines[step];
                const viewer = document.getElementById('story-viewer');

                // ì—í”¼ì†Œë“œ 3 ë°°ê²½ ì „í™˜ ë° ì•”ì „ íš¨ê³¼
                if (Array.isArray(storyBackgrounds["3"])) {
                    if (line.includes("2051ë…„ 1ì›” 8ì¼") || line.includes("ë„ˆì—ê²Œ.")) {
                        viewer.style.transition = 'opacity 0.4s';
                        viewer.style.opacity = '0.2';
                        
                        setTimeout(() => {
                            if(line.includes("2051ë…„ 1ì›” 8ì¼")) viewer.style.backgroundImage = `url('${storyBackgrounds["3"][1]}')`;
                            if(line.includes("ë„ˆì—ê²Œ.")) viewer.style.backgroundImage = `url('${storyBackgrounds["3"][2]}')`;
                            viewer.style.opacity = '1';
                            typeText(line);
                            step++;
                        }, 400);
                        return;
                    }
                }
                typeText(line);
                step++;
            } else {
                goBack();
            }
        }

        function typeText(txt) {
            isTyping = true;
            let i = 0;
            const target = document.getElementById('viewer-content');
            target.innerText = "";
            clearInterval(typingTimer);
            
            typingTimer = setInterval(() => {
                if (i < txt.length) {
                    target.append(txt.charAt(i));
                    i++;
                } else {
                    isTyping = false; // ì™„ë£Œ ì‹œ ìƒíƒœ í•´ì œ
                    clearInterval(typingTimer);
                    target.innerHTML += ' <span style="color:var(--accent); animation:blink 1s infinite; margin-left:5px;">â–¼</span>';
                }
            }, 70);
        }

        function goBack() {
            document.getElementById('story-viewer').style.display = 'none';
            document.getElementById('pw-modal').style.display = 'none';
            document.getElementById('global-back').style.display = 'none';
        }

        function checkArchive3() {
            document.getElementById('pw-modal').style.display = 'flex';
            document.getElementById('pw-input').oninput = function() {
                if (this.value.toUpperCase() === 'ISTJ') {
                    goBack();
                    playStory(3);
                    this.value = '';
                }
            };
        }

        function toggleSound() {
            const btn = document.getElementById('sound-btn');
            if (isPlaying) {
                bgm.pause(); btn.innerText = "SOUND: OFF"; isPlaying = false;
            } else {
                bgm.play(); btn.innerText = "SOUND: ON"; isPlaying = true;
            }
        }

        function openImgModal(src) {
            const modal = document.getElementById('img-zoom-modal');
            const img = document.getElementById('zoomed-img');
            if(modal && img) { img.src = src; modal.style.display = 'flex'; }
        }

        function applyVNEffect(elementId) {
            const target = document.getElementById(elementId);
            if(!target) return;
            const textOnly = target.innerText;
            target.innerHTML = '';
            [...textOnly].forEach((char, i) => {
                const span = document.createElement('span');
                span.innerHTML = char === ' ' ? '&nbsp;' : (char === '\n' ? '<br>' : char);
                span.className = 'char-anim';
                span.style.animationDelay = `${i * 0.04}s`;
                target.appendChild(span);
            });
        }

        /* ëˆˆ íš¨ê³¼ */
        const canvas = document.getElementById('snow');
        const ctx = canvas.getContext('2d');
        let particles = [];
        function initSnow() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            for (let i = 0; i < 50; i++) particles.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, r: Math.random() * 2 + 1, d: Math.random() * 1 });
        }
        function drawSnow() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = "rgba(255, 255, 255, 0.5)"; ctx.beginPath();
            for (let p of particles) { ctx.moveTo(p.x, p.y); ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2, true); }
            ctx.fill(); updateSnow();
        }
        function updateSnow() {
            for (let p of particles) { p.y += Math.cos(p.d) + 1 + p.r / 2; if (p.y > canvas.height) { p.y = -10; p.x = Math.random() * canvas.width; } }
        }
        initSnow();
        setInterval(drawSnow, 30);
        window.addEventListener('mousemove', e => {
            document.getElementById('cursor-dot').style.left = document.getElementById('cursor-outline').style.left = e.clientX + 'px';
            document.getElementById('cursor-dot').style.top = document.getElementById('cursor-outline').style.top = e.clientY + 'px';
        });
        let sIdx = 0;
        setInterval(() => {
            const imgs = document.querySelectorAll('#profile-slides img');
            if (imgs.length > 0) { imgs[sIdx].classList.remove('active'); sIdx = (sIdx + 1) % imgs.length; imgs[sIdx].classList.add('active'); }
        }, 4000);
    </script>
</body>

</html>